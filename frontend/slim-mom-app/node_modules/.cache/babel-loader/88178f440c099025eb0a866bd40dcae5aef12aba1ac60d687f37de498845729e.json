{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\nimport { register, logIn, logOut, refreshToken } from './authOperations';\nconst authSlice = createSlice({\n  name: 'auth',\n  initialState: {\n    user: {\n      name: null,\n      email: null\n    },\n    token: null,\n    refreshToken: null,\n    sid: null,\n    isLoggedIn: false,\n    isRefreshing: false,\n    error: null\n  },\n  extraReducers: builder => {\n    builder.addCase(register.fulfilled, (state, action) => {\n      state.user = action.payload.user;\n      state.isLoggedIn = true;\n      state.token = action.payload.accessToken;\n      state.refreshToken = action.payload.refreshToken;\n      state.sid = action.payload.sid;\n      state.isRefreshing = false;\n    }).addCase(register.pending, state => {\n      state.isRefreshing = true;\n    }).addCase(register.rejected, state => {\n      state.isRefreshing = false;\n    }).addCase(logIn.pending, (state, action) => {\n      state.isRefreshing = true;\n    }).addCase(logIn.fulfilled, (state, action) => {\n      state.user = action.payload.user;\n      state.isLoggedIn = true;\n      state.isRefreshing = false;\n      state.token = action.payload.accessToken;\n      state.refreshToken = action.payload.refreshToken;\n      state.sid = action.payload.sid;\n    }).addCase(logIn.rejected, (state, action) => {\n      state.isLoggedIn = false;\n      state.error = action.payload;\n      state.isRefreshing = false;\n    }).addCase(logOut.fulfilled, state => {\n      state.user = {\n        name: null,\n        email: null\n      };\n      state.token = null;\n      state.isLoggedIn = false;\n      state.error = \"\";\n      state.refreshToken = null;\n      state.sid = null;\n      state.isRefreshing = false;\n    }).addCase(logOut.pending, state => {\n      state.isRefreshing = true;\n    }).addCase(logOut.rejected, state => {\n      state.isRefreshing = false;\n    }).addCase(refreshToken.pending, state => {\n      state.isRefreshing = true;\n    }).addCase(refreshToken.fulfilled, (state, action) => {\n      state.user = action.payload;\n      state.isLoggedIn = true;\n      state.isRefreshing = false;\n      state.token = action.payload.accessToken;\n      state.refreshToken = action.payload.refreshToken;\n      state.sid = action.payload.sid;\n    }).addCase(refreshToken.rejected, state => {\n      state.isRefreshing = false;\n    });\n  }\n});\nexport const authReducer = authSlice.reducer;","map":{"version":3,"names":["createSlice","register","logIn","logOut","refreshToken","authSlice","name","initialState","user","email","token","sid","isLoggedIn","isRefreshing","error","extraReducers","builder","addCase","fulfilled","state","action","payload","accessToken","pending","rejected","authReducer","reducer"],"sources":["D:/GoIT/Modules/Team Project/slim-mom/frontend/slim-mom-app/src/redux/auth/authSlice.js"],"sourcesContent":["import { createSlice } from '@reduxjs/toolkit';\r\nimport { register, logIn, logOut, refreshToken } from './authOperations';\r\n\r\nconst authSlice = createSlice({\r\n  name: 'auth',\r\n  initialState: {\r\n    user: { name: null, email: null },\r\n    token: null,\r\n    refreshToken: null,\r\n    sid: null,\r\n    isLoggedIn: false,\r\n    isRefreshing: false,\r\n    error: null,\r\n  },\r\n  extraReducers: builder => {\r\n    builder\r\n      .addCase(register.fulfilled, (state, action) => {\r\n        state.user = action.payload.user;\r\n        state.isLoggedIn = true;\r\n\r\n        state.token = action.payload.accessToken;\r\n        state.refreshToken = action.payload.refreshToken;\r\n        state.sid = action.payload.sid;\r\n        state.isRefreshing = false;\r\n      })\r\n      .addCase(register.pending, state => {\r\n        state.isRefreshing = true;\r\n      })\r\n      .addCase(register.rejected, state => {\r\n        state.isRefreshing = false;\r\n      })\r\n      .addCase(logIn.pending, (state, action) => {\r\n        state.isRefreshing = true;\r\n      })\r\n      .addCase(logIn.fulfilled, (state, action) => {\r\n        state.user = action.payload.user;\r\n        state.isLoggedIn = true;\r\n        state.isRefreshing = false;\r\n\r\n        state.token = action.payload.accessToken;\r\n        state.refreshToken = action.payload.refreshToken;\r\n        state.sid = action.payload.sid;\r\n      })\r\n      .addCase(logIn.rejected, (state, action) => {\r\n        state.isLoggedIn = false;\r\n        state.error = action.payload;\r\n        state.isRefreshing = false;\r\n      })\r\n      .addCase(logOut.fulfilled, state => {\r\n        state.user = { name: null, email: null };\r\n        state.token = null;\r\n        state.isLoggedIn = false;\r\n        state.error = \"\";\r\n        state.refreshToken = null;\r\n        state.sid = null;\r\n        state.isRefreshing = false;\r\n      })\r\n      .addCase(logOut.pending, state => {\r\n        state.isRefreshing = true;\r\n      })\r\n      .addCase(logOut.rejected, state => {\r\n        state.isRefreshing = false;\r\n      })\r\n      .addCase(refreshToken.pending, state => {\r\n        state.isRefreshing = true;\r\n      })\r\n      .addCase(refreshToken.fulfilled, (state, action) => {\r\n        state.user = action.payload;\r\n        state.isLoggedIn = true;\r\n        state.isRefreshing = false;\r\n\r\n        state.token = action.payload.accessToken;\r\n        state.refreshToken = action.payload.refreshToken;\r\n        state.sid = action.payload.sid;\r\n      })\r\n      .addCase(refreshToken.rejected, state => {\r\n        state.isRefreshing = false;\r\n      });\r\n  },\r\n});\r\n\r\nexport const authReducer = authSlice.reducer;\r\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,QAAQ,EAAEC,KAAK,EAAEC,MAAM,EAAEC,YAAY,QAAQ,kBAAkB;AAExE,MAAMC,SAAS,GAAGL,WAAW,CAAC;EAC5BM,IAAI,EAAE,MAAM;EACZC,YAAY,EAAE;IACZC,IAAI,EAAE;MAAEF,IAAI,EAAE,IAAI;MAAEG,KAAK,EAAE;IAAK,CAAC;IACjCC,KAAK,EAAE,IAAI;IACXN,YAAY,EAAE,IAAI;IAClBO,GAAG,EAAE,IAAI;IACTC,UAAU,EAAE,KAAK;IACjBC,YAAY,EAAE,KAAK;IACnBC,KAAK,EAAE;EACT,CAAC;EACDC,aAAa,EAAEC,OAAO,IAAI;IACxBA,OAAO,CACJC,OAAO,CAAChB,QAAQ,CAACiB,SAAS,EAAE,CAACC,KAAK,EAAEC,MAAM,KAAK;MAC9CD,KAAK,CAACX,IAAI,GAAGY,MAAM,CAACC,OAAO,CAACb,IAAI;MAChCW,KAAK,CAACP,UAAU,GAAG,IAAI;MAEvBO,KAAK,CAACT,KAAK,GAAGU,MAAM,CAACC,OAAO,CAACC,WAAW;MACxCH,KAAK,CAACf,YAAY,GAAGgB,MAAM,CAACC,OAAO,CAACjB,YAAY;MAChDe,KAAK,CAACR,GAAG,GAAGS,MAAM,CAACC,OAAO,CAACV,GAAG;MAC9BQ,KAAK,CAACN,YAAY,GAAG,KAAK;IAC5B,CAAC,CAAC,CACDI,OAAO,CAAChB,QAAQ,CAACsB,OAAO,EAAEJ,KAAK,IAAI;MAClCA,KAAK,CAACN,YAAY,GAAG,IAAI;IAC3B,CAAC,CAAC,CACDI,OAAO,CAAChB,QAAQ,CAACuB,QAAQ,EAAEL,KAAK,IAAI;MACnCA,KAAK,CAACN,YAAY,GAAG,KAAK;IAC5B,CAAC,CAAC,CACDI,OAAO,CAACf,KAAK,CAACqB,OAAO,EAAE,CAACJ,KAAK,EAAEC,MAAM,KAAK;MACzCD,KAAK,CAACN,YAAY,GAAG,IAAI;IAC3B,CAAC,CAAC,CACDI,OAAO,CAACf,KAAK,CAACgB,SAAS,EAAE,CAACC,KAAK,EAAEC,MAAM,KAAK;MAC3CD,KAAK,CAACX,IAAI,GAAGY,MAAM,CAACC,OAAO,CAACb,IAAI;MAChCW,KAAK,CAACP,UAAU,GAAG,IAAI;MACvBO,KAAK,CAACN,YAAY,GAAG,KAAK;MAE1BM,KAAK,CAACT,KAAK,GAAGU,MAAM,CAACC,OAAO,CAACC,WAAW;MACxCH,KAAK,CAACf,YAAY,GAAGgB,MAAM,CAACC,OAAO,CAACjB,YAAY;MAChDe,KAAK,CAACR,GAAG,GAAGS,MAAM,CAACC,OAAO,CAACV,GAAG;IAChC,CAAC,CAAC,CACDM,OAAO,CAACf,KAAK,CAACsB,QAAQ,EAAE,CAACL,KAAK,EAAEC,MAAM,KAAK;MAC1CD,KAAK,CAACP,UAAU,GAAG,KAAK;MACxBO,KAAK,CAACL,KAAK,GAAGM,MAAM,CAACC,OAAO;MAC5BF,KAAK,CAACN,YAAY,GAAG,KAAK;IAC5B,CAAC,CAAC,CACDI,OAAO,CAACd,MAAM,CAACe,SAAS,EAAEC,KAAK,IAAI;MAClCA,KAAK,CAACX,IAAI,GAAG;QAAEF,IAAI,EAAE,IAAI;QAAEG,KAAK,EAAE;MAAK,CAAC;MACxCU,KAAK,CAACT,KAAK,GAAG,IAAI;MAClBS,KAAK,CAACP,UAAU,GAAG,KAAK;MACxBO,KAAK,CAACL,KAAK,GAAG,EAAE;MAChBK,KAAK,CAACf,YAAY,GAAG,IAAI;MACzBe,KAAK,CAACR,GAAG,GAAG,IAAI;MAChBQ,KAAK,CAACN,YAAY,GAAG,KAAK;IAC5B,CAAC,CAAC,CACDI,OAAO,CAACd,MAAM,CAACoB,OAAO,EAAEJ,KAAK,IAAI;MAChCA,KAAK,CAACN,YAAY,GAAG,IAAI;IAC3B,CAAC,CAAC,CACDI,OAAO,CAACd,MAAM,CAACqB,QAAQ,EAAEL,KAAK,IAAI;MACjCA,KAAK,CAACN,YAAY,GAAG,KAAK;IAC5B,CAAC,CAAC,CACDI,OAAO,CAACb,YAAY,CAACmB,OAAO,EAAEJ,KAAK,IAAI;MACtCA,KAAK,CAACN,YAAY,GAAG,IAAI;IAC3B,CAAC,CAAC,CACDI,OAAO,CAACb,YAAY,CAACc,SAAS,EAAE,CAACC,KAAK,EAAEC,MAAM,KAAK;MAClDD,KAAK,CAACX,IAAI,GAAGY,MAAM,CAACC,OAAO;MAC3BF,KAAK,CAACP,UAAU,GAAG,IAAI;MACvBO,KAAK,CAACN,YAAY,GAAG,KAAK;MAE1BM,KAAK,CAACT,KAAK,GAAGU,MAAM,CAACC,OAAO,CAACC,WAAW;MACxCH,KAAK,CAACf,YAAY,GAAGgB,MAAM,CAACC,OAAO,CAACjB,YAAY;MAChDe,KAAK,CAACR,GAAG,GAAGS,MAAM,CAACC,OAAO,CAACV,GAAG;IAChC,CAAC,CAAC,CACDM,OAAO,CAACb,YAAY,CAACoB,QAAQ,EAAEL,KAAK,IAAI;MACvCA,KAAK,CAACN,YAAY,GAAG,KAAK;IAC5B,CAAC,CAAC;EACN;AACF,CAAC,CAAC;AAEF,OAAO,MAAMY,WAAW,GAAGpB,SAAS,CAACqB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}